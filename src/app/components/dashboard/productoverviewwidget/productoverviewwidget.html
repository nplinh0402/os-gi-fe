<div
    class="bg-surface-0 dark:bg-surface-900 p-6 rounded-xl border border-surface-200 dark:border-surface-700 flex flex-col gap-4">
    <div class="flex sm:items-center justify-between mb-4 sm:flex-row flex-col gap-2">
        <span class="font-medium text-base">Products Overview</span>
        <p-iconfield class="sm:w-auto w-full">
            <p-inputicon class="pi pi-search" />
            <input pInputText [(ngModel)]="searchQuery" placeholder="Search products..."
                class="p-inputtext-sm md:w-auto! w-full!" (ngModelChange)="searchProducts()" />
        </p-iconfield>
    </div>
    <div class="flex flex-col gap-2">
        <p-table [value]="filteredProducts" selectionMode="single" [(selection)]="selectedProduct" [loading]="loading"
            [rows]="5">
            <ng-template #header>
                <tr>
                    <th pSortableColumn="name">Name <p-sortIcon field="name" /></th>
                    <th pSortableColumn="category">
                        Category <p-sortIcon field="category" />
                    </th>

                    <th pSortableColumn="price">
                        Price <p-sortIcon field="price" />
                    </th>
                    <th pSortableColumn="status">
                        Status <p-sortIcon field="status" />
                    </th>
                </tr>
            </ng-template>
            <ng-template #body let-product>
                <tr>
                    <td>{{ product.name }}</td>
                    <td>{{ product.category }}</td>
                    <td>{{ product.price }}</td>
                    <td>
                        <p-tag [severity]="
                    product.status === 'In Stock'
                      ? 'success'
                      : product.status === 'Low Stock'
                      ? 'warn'
                      : 'danger'
                  ">
                            {{ product.status }}
                        </p-tag>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>